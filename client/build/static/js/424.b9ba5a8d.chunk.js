"use strict";(self.webpackChunkblood_donation_system=self.webpackChunkblood_donation_system||[]).push([[424],{424:function(e,n,o){o.r(n),o.d(n,{default:function(){return w}});var t=o(4942),r=o(1413),s=o(885),a=o(890),c=o(8870),d=o(9658),i=o(9012),l=o(5523),u=o(4454),h=o(7391),m=o(6151),x=o(383),b=o(2791),f=o(2815),p=o(5881),Z=(0,o(6934).ZP)(c.Z)((function(e){var n=e.theme;return{margin:"auto",display:"flex",flexDirection:"column",alignItems:"center",padding:"0",width:"100%","& form":{width:"100%",maxWidth:"500px",marginTop:n.spacing(1),"& > .submit-btn":{marginTop:n.spacing(1)},"& .delete-account-btn":{marginTop:n.spacing(1),float:"right"}}}})),g=o(184);var w=function(){var e={severity:"success",content:""},n=(0,b.useState)(e),o=(0,s.Z)(n,2),w=o[0],v=o[1],k=(0,b.useContext)(p.S),j=k.user,P=k.clearCurrentUser,y=(0,b.useState)({checkboxPassword:!1,checkboxPhone:!1,checkboxAddress:!1}),C=(0,s.Z)(y,2),A=C[0],_=C[1],N=(0,b.useState)({password:"",phone:"",address:""}),S=(0,s.Z)(N,2),U=S[0],W=S[1];(0,b.useEffect)((function(){(0,f.CX)(j.e_mail).then((function(e){return W({password:e.data.password,phone:e.data.phone,address:e.data.address})})).catch((function(e){return console.error(e.message)}))}),[j]);var q=function(e){var n=e.target,o=n.name,s=n.value;W((0,r.Z)((0,r.Z)({},U),{},(0,t.Z)({},o,s)))},D=function(e){var n=e.target.id;_((0,r.Z)((0,r.Z)({},A),{},(0,t.Z)({},n,!A[n])))};return(0,g.jsxs)(Z,{children:[(0,g.jsx)(a.Z,{component:"h1",variant:"h5",gutterBottom:!0,children:"Manage Account"}),(0,g.jsxs)(c.Z,{component:"form",onSubmit:function(e){e.preventDefault(),(0,f.Nq)((0,r.Z)((0,r.Z)({},U),{},{e_mail:j.e_mail})).then((function(){return alert("User information has been successfully changed!")})).then((function(){return _({checkboxPassword:!1,checkboxPhone:!1,checkboxAddress:!1})})).catch((function(e){return console.error(e.message)}))},children:[w.content&&(0,g.jsx)(d.Z,{severity:w.severity,onClose:function(){return v(e)},children:w.content}),(0,g.jsxs)(i.Z,{children:[(0,g.jsx)(l.Z,{control:(0,g.jsx)(u.Z,{id:"checkboxPassword",checked:A.checkboxPassword,onChange:D}),label:"Update Password"}),(0,g.jsx)(h.Z,{margin:"normal",fullWidth:!0,name:"password",label:"New Password",id:"password",value:U.password,onChange:q,required:!0,type:"password",disabled:!A.checkboxPassword})]}),(0,g.jsxs)(i.Z,{children:[(0,g.jsx)(l.Z,{control:(0,g.jsx)(u.Z,{id:"checkboxPhone",checked:A.checkboxPhone,onChange:D}),label:"Update Phone"}),(0,g.jsx)(h.Z,{margin:"normal",fullWidth:!0,name:"phone",label:"New Phone Number",id:"phone",value:U.phone,onChange:q,required:!0,type:"tel",disabled:!A.checkboxPhone})]}),(0,g.jsxs)(i.Z,{children:[(0,g.jsx)(l.Z,{control:(0,g.jsx)(u.Z,{id:"checkboxAddress",checked:A.checkboxAddress,onChange:D}),label:"Update Address"}),(0,g.jsx)(h.Z,{margin:"normal",fullWidth:!0,name:"address",label:"New Address",id:"address",value:U.address,onChange:q,required:!0,multiline:!0,rows:4,disabled:!A.checkboxAddress})]}),(0,g.jsx)(m.Z,{type:"submit",fullWidth:!0,variant:"contained",className:"submit-btn",children:"Update"}),(0,g.jsx)(m.Z,{variant:"text",color:"error",startIcon:(0,g.jsx)(x.Z,{}),onClick:function(e){window.confirm("Are you sure you want to delete your account?")&&(0,f.JS)(j.user_id).then((function(){return P()})).catch((function(e){return console.error(e)}))},className:"delete-account-btn",children:"Delete Account"})]})]})}},383:function(e,n,o){var t=o(4836);n.Z=void 0;var r=t(o(5649)),s=o(184),a=(0,r.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");n.Z=a}}]);
//# sourceMappingURL=424.b9ba5a8d.chunk.js.map